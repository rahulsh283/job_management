{% extends 'user/partials/main.html' %}


{% block content %}
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Student Form</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Student Form</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>
<!-- Main content -->
<section class="content">
    <div class="container-fluid">
      <div class="row">
        <!-- left column -->
        <div class="col-md-12">
          <!-- general form elements -->
          <div class="card card-primary">
            <div class="card-header">
              <h3 class="card-title">Student</h3>
            </div>
            <!-- /.card-header -->
            <!-- form start -->
            <form id="user_Student_form" method ="post" action = "/user/books/Student">
              {% csrf_token %}
              <div class="card-body">
                
                <div class="form-group">
                  <label for="exampleInputEmail1">Student Name</label>
                  <input type="text" class="form-control" id="student_name" name="student_name"  placeholder="Student Name">
                </div>
                <label id="student_name-error" class="error" for="student_name" style="display:none; position:relative; color:red;">This field is required.</label>
                <div class="form-group">
                  <label for="exampleInputEmail1">Student Class</label>
                  <input type="text" class="form-control" id="student_class" name="student_class"  placeholder="Student Class">
                </div>
                <label id="student_name-error" class="error" for="student_name" style="display:none; position:relative; color:red;">This field is required.</label>
                <label id="student_name-error" class="error" for="student_name" style="display:none; position:relative; color:red;">This field is required.</label>

                <div class="form-group">
                  <label for="exampleInputEmail1">Mother Name</label>
                  <input type = "text" class="form-control" id="mother_name" name="mother_name"   placeholder="Mother Name">
                      
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Father Name</label>
                  <input type="text" class="form-control" id="father_name" name="father_name"  placeholder="Father Name">
                </div>

                <div class="form-group">
                  <label for="exampleInputEmail1">Admission Date</label>
                  <input type="text" class="form-control" id="admission_date" name="admission_date"   placeholder="Admission Date">
                </div>
                <label id="student_name-error" class="error" for="student_name" style="display:none; position:relative; color:red;">This field is required.</label>

                <div class="form-group">
                    <label for="exampleInputEmail1">Email Address</label>
                    <input type="email" class="form-control" id="email_address" name="email_address"   placeholder="Email Address">
                  </div>
                <label id="student_name-error" class="error" for="student_name" style="display:none; position:relative; color:red;">This field is required.</label> 
                  

              <div class="card-footer">
                <input type="hidden" name="books_id" value="{{ id }}">
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
          <!-- /.card -->
      </div>
      <!-- /.row -->
    </div><!-- /.container-fluid -->
  </section>
  <!-- /.content -->
</div>
{% endblock %}

{% block script %}
<script>
  $(document).ready(function(){

      $("#user_books_form").validate({
        rules:{
          student_name : {
            required: true,
          },
          student_class: {
            required:true,
          },
          email_address : {
              required:true,
              
          }
        },
          admission_date : {
            required:true,
            number : true,
        submitHandler: function(form){
  
            {% comment %} $.ajax({
  
              url : "/user/books/",
              type : "POST",
              dataType: "json",
              data : $("#user_books_form").serialize(),
              success : function(data){
  
                alert(data.msg);
                if(data.error == 0){
                  window.location.replace("/user/books/table");
                
                }
              }
            });
        }
      });
  }); {% endcomment %}
</script>
{% endblock %}